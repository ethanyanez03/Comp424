<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="../CSS/signup.css" />
  <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
  <title>Signup</title>
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>
  <script>
    function checkPasswordStrength(password) {
      const numberCheckbox = document.getElementById("number-check");
      const uppercaseCheckbox = document.getElementById("uppercase-check");
      const specialCharCheckbox = document.getElementById("special-check");
      const minLengthCheckbox = document.getElementById("length-check");
      const strengthBar = document.getElementById("strength-bar");
      const strengthText = document.getElementById("strength-text");

      let hasNumber = /\d/.test(password);
      let hasUppercase = /[A-Z]/.test(password);
      let hasSpecialChar = /[^A-Za-z0-9]/.test(password);
      let hasMinLength = password.length >= 8;
      let strength = 0;

      numberCheckbox.checked = hasNumber;
      uppercaseCheckbox.checked = hasUppercase;
      specialCharCheckbox.checked = hasSpecialChar;
      minLengthCheckbox.checked = hasMinLength;

      if (hasNumber) strength++;
      if (hasUppercase) strength++;
      if (hasSpecialChar) strength++;
      if (hasMinLength) strength++;

      const strengthPercentage = (strength / 4) * 100;
      strengthBar.style.width = strengthPercentage + "%";

      if (strengthPercentage < 40) {
        strengthText.textContent = "Weak";
        strengthText.style.color = "red";
        strengthBar.style.backgroundColor = "red";
      } else if (strengthPercentage < 70) {
        strengthText.textContent = "Moderate";
        strengthText.style.color = "blue";
        strengthBar.style.backgroundColor = "blue";
      } else {
        strengthText.textContent = "Strong";
        strengthText.style.color = "green";
        strengthBar.style.backgroundColor = "green";
      }

      const submitBtn = document.getElementById("submit-btn");
      submitBtn.disabled = !(hasNumber && hasUppercase && hasSpecialChar && hasMinLength);
    }

    function validatePasswordMatch() {
      const password = document.getElementById("password").value;
      const reEnterPassword = document.getElementById("re-enter-password").value;
      const matchMessage = document.getElementById("password-match-message");

      if (password !== reEnterPassword) {
        matchMessage.textContent = "Passwords do not match!";
        matchMessage.className = "no-match";
      } else {
        matchMessage.textContent = "Passwords match.";
        matchMessage.className = "match";
      }
    }
  </script>
</head>
<body>
  <div class="wrapper">
    <form action="" method="post">
      <h1>Signup</h1>

      <!-- First Name -->
      <div class="input-box">
        <input type="text" placeholder="First Name" name="first-name" required>
        <i class='bx bxs-user'></i>
      </div>

      <!-- Last Name -->
      <div class="input-box">
        <input type="text" placeholder="Last Name" name="last-name" required>
        <i class='bx bxs-user'></i>
      </div>

      <!-- Birth Date -->
      <div class="input-box">
        <input type="date" name="birth-date" required>
        <i class='bx bxs-calendar'></i>
      </div>

      <!-- Email -->
      <div class="input-box">
        <input type="email" name="email" placeholder="Email" required>
        <i class='bx bxs-envelope'></i>
      </div>

      <!-- Username -->
      <div class="input-box">
        <input type="text" name="username" placeholder="Username" required>
        <i class='bx bxs-user'></i>
      </div>

      <!-- Password -->
      <div class="input-box">
        <input type="password" id="password" name="password" placeholder="Password" required oninput="checkPasswordStrength(this.value)">
        <i class='bx bxs-lock-alt'></i>
      </div>

      <!-- Re-enter Password -->
      <div class="input-box">
        <input type="password" id="re-enter-password" placeholder="Re-enter Password" required oninput="validatePasswordMatch()">
        <i class='bx bxs-lock-alt'></i>
      </div>
      <p id="password-match-message"></p>

      <!-- Password Strength Bar -->
      <div class="password-strength">
        <div class="strength-bar" id="strength-bar"></div>
        <span id="strength-text" class="strength-text">Weak</span>
      </div>

      <!-- Password Checklist -->
      <div class="password-requirements">
        <ul>
          <li><input type="checkbox" id="number-check" disabled> Numbers</li>
          <li><input type="checkbox" id="special-check" disabled> Special Characters</li>
          <li><input type="checkbox" id="uppercase-check" disabled> Uppercase</li>
          <li><input type="checkbox" id="length-check" disabled> 8 Characters</li>
        </ul>
      </div>

      <!-- Security Questions -->
      <div class="input-box">
        <select name="security-question" required>
          <option value="">Select a Security Question</option>
          <option value="pet-name">What is the name of your first pet?</option>
          <option value="mother-maiden">What is your mother's maiden name?</option>
          <option value="favorite-color">What is your favorite color?</option>
        </select>
        <i class='bx bxs-lock-alt'></i>
      </div>
      <div class="input-box">
        <input type="text" name="security-answer" placeholder="Answer to Security Question" required>
        <i class='bx bxs-lock-alt'></i>
      </div>

      <!-- CAPTCHA -->
      <div class="g-recaptcha" data-sitekey="your_site_key"></div>

      <p style="font-size: 12px; margin-top: 10px;">Activation link will be sent to your email after sign up.</p>

      <button type="submit" id="submit-btn" class="btn" disabled>Signup</button>

      <div class="register-link">
        <p>Have an account? <a href="login.html">Login Now</a></p>
      </div>
    </form>
  </div>
</body>
</html>
